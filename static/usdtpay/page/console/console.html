<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>控制台</title>
    <link rel="stylesheet" href="../../assets/libs/layui/css/layui.css"/>
    <!--    <link rel="stylesheet" href="../../assets/module/admin.css?v=318"/>-->
    <!--    <script src="../../assets/js/moment.js"></script>-->
    <script src="../../assets/js/echarts-tooltip-carousel.js"></script>


    <script type="text/javascript">
        document.write("<link rel='stylesheet' href='../../assets/module/admin.css?ttv="+Math.random()+"'>");
    </script>
    <script type="text/javascript">
        document.write('<script src="../../assets/js/moment.js?ttv='+new Date().getTime()+'" type="text/javascript" ><\/script>');
    </script>


    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
        /** 统计快捷方式样式 */
        .console-link-block {
            font-size: 16px;
            padding: 20px 20px;
            border-radius: 4px;
            background-color: #40D4B0;
            color: #FFFFFF !important;
            box-shadow: 0 2px 3px rgba(0, 0, 0, .05);
            position: relative;
            overflow: hidden;
            display: block;
        }

        .console-link-block .console-link-block-num {
            font-size: 40px;
            margin-bottom: 5px;
            opacity: .9;
        }

        .console-link-block .console-link-block-text {
            opacity: .8;
        }

        .console-link-block .console-link-block-icon {
            position: absolute;
            top: 50%;
            right: 20px;
            width: 50px;
            height: 50px;
            font-size: 50px;
            line-height: 50px;
            margin-top: -25px;
            color: #FFFFFF;
            opacity: .8;
        }

        .console-link-block .console-link-block-band {
            color: #fff;
            width: 100px;
            font-size: 12px;
            padding: 2px 0 3px 0;
            background-color: #E32A16;
            line-height: inherit;
            text-align: center;
            position: absolute;
            top: 8px;
            right: -30px;
            transform-origin: center;
            transform: rotate(45deg) scale(.8);
            opacity: .95;
            z-index: 2;
        }

        /** //统计快捷方式样式 */

        /** 设置每个快捷块的颜色 */
        .layui-row > div:nth-child(2) .console-link-block {
            background-color: #55A5EA;
        }

        .layui-row > div:nth-child(3) .console-link-block {
            background-color: #9DAFFF;
        }

        .layui-row > div:nth-child(4) .console-link-block {
            background-color: #F591A2;
        }

        .layui-row > div:nth-child(5) .console-link-block {
            background-color: #FEAA4F;
        }

        .layui-row > div:last-child .console-link-block {
            background-color: #9BC539;
        }

        .console-link-block .console-link-block-num {
            font-size: 20px !important;
        }


    </style>
</head>
<body>
<!-- 正文开始 -->
<div class="layui-fluid ew-console-wrapper">
    <!-- 快捷方式 -->
    <div class="layui-row layui-col-space15">
        <div class="layui-col-xs12">
            <div class="layui-card" >
                <div class="layui-card-header">记录或者更新某一天的数据统计</div>
                <div class="layui-card-body">
                    <!-- 表格工具栏 -->
                    <form class="layui-form toolbar">
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label" >选择日期</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="choose_date" name="choose_date" autocomplete="off"
                                           class="layui-input">
                                </div>
                            </div>

                            <div class="layui-inline" style="margin-left: 20px">&emsp;
                                <button class="layui-btn icon-btn currSerachBtn" lay-filter="updateOneDateData" lay-submit>
                                    <i class="layui-icon">&#xe605;</i>记录/更新
                                </button>
                            </div>
                        </div>
                    </form>



                </div>
            </div>

        </div>
        <!--        <div class="layui-col-xs12">-->
        <!--            <button class="layui-btn layui-btn-normal layui-btn-radius" id=refreshBtn style="float: right;"><i class="layui-icon layui-icon-refresh"></i>手动刷新</button>-->
        <!--        </div>-->
        <!--        <fieldset class="layui-elem-field layui-field-title">-->
        <!--            <legend>今日数据</legend>-->
        <!--        </fieldset>-->
        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_date">0</div>
                <div class="console-link-block-text">日期</div>
                <i class="console-link-block-icon layui-icon layui-icon-log"></i>
            </div>
        </div>
        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_pull_order_count">0</div>
                <div class="console-link-block-text">今日拉单总数</div>
                <i class="console-link-block-icon layui-icon layui-icon-user"></i>
            </div>
        </div>
        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_pull_order_count_and_success">0</div>
                <div class="console-link-block-text">今日成功支付笔数</div>
                <i class="console-link-block-icon layui-icon layui-icon-username"
                   style="font-size: 62px;padding-right: 5px;"></i>
            </div>
        </div>
        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_pull_order_amount">0</div>
                <div class="console-link-block-text">今日拉单总金额</div>
                <i class="console-link-block-icon layui-icon layui-icon-face-smile-b"></i>
            </div>
        </div>

        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_pull_order_amount_and_success">0</div>
                <div class="console-link-block-text">今日收取金额</div>
                <i class="console-link-block-icon layui-icon layui-icon-dollar"></i>
            </div>
        </div>
        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_success_per">0</div>
                <div class="console-link-block-text">今日订单支付成功率</div>
                <i class="console-link-block-icon layui-icon layui-icon-diamond"></i>
            </div>
        </div>
    </div>


    <div class="layui-row layui-col-space15">
        <div class="layui-col-xs12 layui-col-sm6 layui-col-md2">
            <div class="layui-card">
                <div class="layui-card-header">
                    总拉单总数<span class="layui-badge layui-badge-green pull-right">总</span>
                </div>
                <div class="layui-card-body">
                    <p class="lay-big-font" id="all_pull_order_count">0</p>
                    <!--                    <p>银行充值金额-->
                    <!--                        &lt;!&ndash;                        <span class="pull-right">280 万</span>&ndash;&gt;-->
                    <!--                    </p>-->
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm6 layui-col-md2">
            <div class="layui-card">
                <div class="layui-card-header">
                    总成功支付笔数<span class="layui-badge layui-badge-blue pull-right">总</span>
                </div>
                <div class="layui-card-body">
                    <p class="lay-big-font" id="all_pull_order_count_and_success">0</p>
                    <!--                        <span style="font-size: 26px;line-height: 1;">¥</span>-->
                    <!--                    <p>银行充值人数<span class="pull-right"></span></p>-->
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm6 layui-col-md2">
            <div class="layui-card">
                <div class="layui-card-header">
                    总拉单总金额<span class="layui-badge layui-badge-red pull-right">总</span>
                </div>
                <div class="layui-card-body">
                    <p class="lay-big-font" id="all_pull_order_amount">0</p>
                    <!--                    <p>USDT充值金额<span class="pull-right"></span></p>-->
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm6 layui-col-md2">
            <div class="layui-card">
                <div class="layui-card-header">
                    总收取金额
                    <span class="layui-badge layui-badge-orange pull-right">总</span>
                    <!--                    <span class="icon-text pull-right" lay-tips="指标说明" lay-direction="4" lay-offset="5px,5px">-->
                    <!--                        <i class="layui-icon layui-icon-tips"></i>-->
                    <!--                    </span>-->
                </div>
                <div class="layui-card-body">

                    <p class="lay-big-font" id="all_pull_order_amount_and_success">0</p>
                    <!--                    <p>USDT充值人数<span class="pull-right"></span></p>-->
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm6 layui-col-md4">
            <div class="layui-card">
                <div class="layui-card-header">
                    总成功率
                    <span class="layui-badge layui-badge-orange pull-right">总</span>
                    <!--                    <span class="icon-text pull-right" lay-tips="指标说明" lay-direction="4" lay-offset="5px,5px">-->
                    <!--                        <i class="layui-icon layui-icon-tips"></i>-->
                    <!--                    </span>-->
                </div>
                <div class="layui-card-body">

                    <p class="lay-big-font" id="all_success_per">0</p>
                    <!--                    <p>USDT充值人数<span class="pull-right"></span></p>-->
                </div>
            </div>
        </div>
    </div>

    <div class="layui-row layui-col-space15">
        <div class="layui-col-xs12">
            <div class="layui-card" style="overflow: hidden;">
                <div class="layui-card-header">每个商户的今日数据</div>
                <div class="layui-card-body">

                    <!--                    &lt;!&ndash; 表格工具栏 &ndash;&gt;-->
                    <!--                    <form class="layui-form toolbar">-->
                    <!--                        <div class="layui-form-item">-->

                    <!--                            <div class="layui-inline">-->
                    <!--                                <label class="layui-form-label">开始日期</label>-->
                    <!--                                <div class="layui-input-inline">-->
                    <!--                                    <input type="text" class="layui-input" id="startDate" name="startDate" placeholder="yyyy-MM-dd HH:mm:ss">-->
                    <!--                                </div>-->
                    <!--                            </div>-->


                    <!--                            <div class="layui-inline">-->
                    <!--                                <label class="layui-form-label">结束日期</label>-->
                    <!--                                <div class="layui-input-inline">-->
                    <!--                                    <input type="text" class="layui-input" id="endDate" name="endDate" placeholder="yyyy-MM-dd HH:mm:ss">-->
                    <!--                                </div>-->
                    <!--                            </div>-->
                    <!--                            <div class="layui-inline">&emsp;-->

                    <!--                                <button class="layui-btn icon-btn currSerachBtn" lay-filter="userTbSearch" lay-submit >-->
                    <!--                                    <i class="layui-icon">&#xe615;</i>搜索-->
                    <!--                                </button>-->
                    <!--                                <button class="layui-btn icon-btn currReloadBtn" lay-filter="reloadData" lay-submit style="background-color: #926dde;border-color: #926dde;">-->
                    <!--                                    <i class="layui-icon layui-icon-refresh"></i>刷新数据-->
                    <!--                                </button>-->
                    <!--                            </div>-->
                    <!--                        </div>-->
                    <!--                    </form>-->
                    <!-- 数据表格 -->
                    <table id="userTable" lay-filter="userTable" style="margin-top:10px"></table>

                </div>
            </div>
        </div>
    </div>

    <!--    &lt;!&ndash;         统计图表&ndash;&gt;-->
    <!--    <div class="layui-row layui-col-space15">-->
    <!--        <div class="layui-col-md6 layui-col-sm6">-->
    <!--            <div class="layui-card" style="overflow: hidden;">-->
    <!--                <div class="layui-card-header">总统计</div>-->
    <!--                <div class="layui-card-body">-->
    <!--                    <div id="consoleChartsDay" style="height: 220px;"></div>-->
    <!--                    <div style="color: #10B4E8;font-size: 18px;position: absolute;bottom: 85px;left: 0;right:0;text-align: center;cursor: pointer;">-->
    <!--                        &lt;!&ndash;                        签到明细<i class="layui-icon layui-icon-right" style="font-size: 16px;"></i>&ndash;&gt;-->
    <!--                    </div>-->
    <!--                </div>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--        <div class="layui-col-md6 layui-col-sm6">-->
    <!--            <div class="layui-card" style="overflow: hidden;">-->
    <!--                <div class="layui-card-header">任务分组名</div>-->
    <!--                <div class="layui-card-body">-->
    <!--                    <div id="consoleChartsWord" style="height: 220px;"></div>-->
    <!--                </div>-->
    <!--            </div>-->
    <!--        </div>-->




    <!--    </div>-->

    <!--    <div class="layui-row layui-col-space15">-->
    <!--        <div class="layui-col-xs12">-->
    <!--            <div class="layui-card" style="overflow: hidden;">-->
    <!--                <div class="layui-card-header">每天数据</div>-->
    <!--                <div class="layui-card-body">-->
    <!--                    &lt;!&ndash; 为 ECharts 准备一个具备大小（宽高）的 DOM &ndash;&gt;-->
    <!--                    <div id="speedChartMain" style="height: 600px;margin-top: 30px"></div>-->
    <!--                </div>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>-->



</div>


<!-- js部分 -->
<script type="text/javascript" src="../../assets/libs/layui/layui.js"></script>
<!--<script type="text/javascript" src="../../assets/js/common.js?v=318"></script>-->
<script type="text/javascript">
    document.write('<script src="../../assets/js/common.js?ttv='+new Date().getTime()+'" type="text/javascript" ><\/script>');
</script>
<script src="../../assets/libs/echarts/echarts.min.js"></script>
<script src="../../assets/libs/echarts/china.js"></script>
<script src="../../assets/libs/echarts/echarts-wordcloud.min.js"></script>
<!--    引入组件主题-->
<script src="../../assets/js/echartthemes.js"></script>
<script type="text/javascript" src="../../assets/js/jquery.min.js"></script>
<script type="text/javascript" src="../../assets/js/jquery.cookie.min.js"></script>
<!--<script type="text/javascript" src="../../assets/js/config.url.js"></script>-->
<script type="text/javascript">
    document.write('<script src="../../assets/js/config.url.js?timestamp='+new Date().getTime()+'" type="text/javascript" charset="utf-8"><\/script>');
</script>


<script>
    var mybck = $.cookie('tokenMybUP');
    //alert(document.cookie);
    //console.log(mybck)
    if (mybck == "" || mybck == null) {

        window.top.location.href = "../../login.html";

    } else {
        // 用于清除定时器
        var tootipTimer = null;
        var timer = null;

        var momentObj = new moment()
        $("#today_date").text(momentObj.format('YYYY-MM-DD'))

        var all_login_num = 0
        var all_reg_num = 0
        var all_zb_str = ''

        var groupArr = []

        //获取今日数据
        let reqParam = {}
        reqParam.action = "check"


        // //手动刷新请求地址
        // $("#refreshBtn").click(function () {
        //
        //     //获取今日数据
        //     $.ajax({
        //         url: js_global_requestAddress_set_todayStatistics,
        //         dataType: 'json',
        //         type: 'get',
        //         success: function (dataArray) {
        //
        //             if (dataArray.code != 200) {
        //
        //                 // console.log(dataArray.msg)
        //                 // layer.msg(dataArray.msg);
        //                 return false;
        //
        //             }
        //
        //
        //             var requestdata = {};
        //             requestdata['token']= $.cookie('tokenMybUP');
        //             requestdata['action']= 'TODAY';
        //
        //             //获取今日数据
        //             $.ajax({
        //                 url: js_global_requestAddress_get_Statistics,
        //                 dataType: 'json',
        //                 type: 'post',
        //                 data: requestdata,
        //                 success: function (dataArray) {
        //
        //                     if (dataArray.code != 200) {
        //
        //                         // console.log(dataArray.msg)
        //                         // layer.msg(dataArray.msg);
        //                         return false;
        //
        //                     }
        //
        //                     var cuurResultData = dataArray.result
        //
        //                     //充值金额
        //                     var  recharge_amount_s = cuurResultData.recharge_amount
        //
        //                     //盈利金额
        //                     var  profit_amount_s = cuurResultData.profit_amount
        //
        //                     //每日投注人数
        //                     var bet_nums_s = cuurResultData.bet_nums
        //
        //                     //每日流水金额
        //                     var  running_s = cuurResultData.running
        //
        //                     //充值人数
        //                     var  recharge_nums_s = cuurResultData.recharge_nums
        //
        //                     //提现金额
        //                     var  withdraw_amount_s = cuurResultData.withdraw_amount
        //
        //
        //                     $('#recharge_amount').text(recharge_amount_s);
        //                     $('#profit_amount').text(profit_amount_s);
        //                     $('#bet_nums').text(bet_nums_s);
        //                     $('#running').text(running_s);
        //                     $('#recharge_nums').text(recharge_nums_s);
        //                     $('#withdraw_amount').text(withdraw_amount_s);
        //
        //
        //
        //
        //
        //                     // console.log("1111",dataArray)
        //
        //
        //
        //                 }
        //             })
        //
        //
        //
        //         }
        //     })
        //
        // })

        var local_storage_key = 'admin_usdtpay_console_t_list';
        layui.use(['layer', 'form', 'table', 'util', 'admin', 'xmSelect', 'notice', 'treeTable', 'laydate'], function () {
            var $ = layui.jquery;
            var layer = layui.layer;
            var form = layui.form;
            var table = layui.table;
            var util = layui.util;
            var admin = layui.admin;
            var xmSelect = layui.xmSelect;
            var notice = layui.notice;
            var treeTable = layui.treeTable
            var laydate = layui.laydate;


            //开始日期组件常规用法
            laydate.render({
                elem: '#choose_date'
                ,value: momentObj.format('YYYY-MM-DD')
                , isInitValue: true
                , theme: 'molv'
                , type: 'date'
                , done: function (value, date) {//选中后的回调
                    // layer.alert('你选择的日期是：' + value + '<br>获得的对象是' + JSON.stringify(date));
                    // console.log("自带的",date)
                    // console.log("jquery",$("#buildDate").val())

                }
            });

            //记录或者更新某一天的数据统计
            form.on('submit(updateOneDateData)', function (data) {

                let resultObj = data.field
                // console.log("result",resultObj)

                if(!resultObj.choose_date){
                    layer.msg("日期不能为空！")
                    return false
                }

                layer.confirm('确定要更新此日期数据吗？', {
                    skin: 'layui-layer-admin',
                    shade: .1
                }, function (i) {
                    layer.close(i);
                    var loadIndex = layer.load(2);

                    let reqP = {}
                    reqP.action = "updateDate"
                    reqP.date = resultObj.choose_date

                    //更新今日数据
                    $.ajax({
                        url: global_requestAddressJs_fistPage,
                        headers: {
                            "token": mybck
                        },
                        type: 'post',
                        data:reqP,
                        dataType: 'json',
                        success: function (dataArray) {
                            layer.close(loadIndex);
                            if (dataArray.code === 200) {
                                layer.msg("更新成功")
                                insTb.reload({page: {curr: 1}});
                            } else {
                                layer.msg("更新失败")
                            }

                        }
                    })


                });


                return false;
            });




            var log_login_request_param = {};
            log_login_request_param.action = "everyday"
            /* 渲染表格 */
            var tableCols = tableSetCol(getTableCols(), local_storage_key);
            var insTb = table.render({
                elem: '#userTable',
                url: global_requestAddressJs_fistPage ,
                method: 'post',
                headers:{
                    token:mybck
                },
                // response: {
                //     statusCode: 200,
                //     dataName: 'result',
                // },
                // toolbar: true,
                // defaultToolbar: ['filter'],
                where:log_login_request_param,
                // toolbar: ['<p>',
                //     '<button lay-event="add" class="layui-btn layui-btn-sm icon-btn"><i class="layui-icon">&#xe654;</i>添加</button>&nbsp;',
                //     '<button lay-event="del" class="layui-btn layui-btn-sm layui-btn-danger icon-btn"><i class="layui-icon">&#xe640;</i>删除</button>',
                //     '</p>'].join(''),
                cellMinWidth: 100,
                page :  { //支持传入 laypage 组件的所有参数（某些参数除外，如：jump/elem） - 详见文档
                    layout: ['limit', 'count', 'prev', 'page', 'next', 'skip'] //自定义分页布局
                    //,curr: 5 //设定初始在第 5 页
                    ,groups: 10 //只显示 1 个连续页码
                    ,first: "首页" //不显示首页
                    ,last: "尾页"//不显示尾页
                },
                height : "full-320",
                limit : 20,
                limits : [20,30,50,100],
                // id : "systemLog",
                cols:tableCols,
                done: function (res, curr, count) {
                    $('tr').css({'background-color': '#fff', 'color': '#191a1c'});

                    tableDone(this.elem, insTb.config.cols[0], local_storage_key)

                    // //重新渲染 固定写法
                    // form.render("select");
                    //
                    // let listData = res.result
                    //
                    // let day_TodayCollection = 0
                    // let day_TodayCollectionAmount = 0
                    // let day_TodayCollectionCommission = 0
                    // let day_TodayPay = 0
                    // let day_TodayPayCommission = 0
                    // let day_TodayPayAmount = 0
                    //
                    // listData.forEach((item,index)=>{
                    //     day_TodayCollection += item.TodayCollection
                    //     day_TodayCollectionAmount +=  item.TodayCollectionAmount
                    //     day_TodayCollectionCommission += item.TodayCollectionCommission
                    //     day_TodayPay += item.TodayPay
                    //     day_TodayPayCommission += item.TodayPayCommission
                    //     day_TodayPayAmount += item.TodayPayAmount
                    // })
                    //
                    // $("#TodayCollection").text(day_TodayCollection)//
                    // $("#TodayCollectionAmount").text(day_TodayCollectionAmount)
                    // $("#TodayCollectionCommission").text(day_TodayCollectionCommission)
                    // $("#TodayPay").text(day_TodayPay)
                    // $("#TodayPayCommission").text(day_TodayPayCommission)
                    // $("#TodayPayAmount").text(day_TodayPayAmount)

                    // $(".layui-table-main tr").each(function (index, val) {
                    //     $($(".layui-table-fixed-l .layui-table-body tbody tr")[index]).height($(val).height());
                    //     $($(".layui-table-fixed-r .layui-table-body tbody tr")[index]).height($(val).height());
                    // });

                }
            });


            //layui表格渲染后，事件需要重新绑定，并记录下筛选信息于localStorage
            function tableDone(elem, col, key){
                elem.next().find('[lay-event="LAYTABLE_COLS"]').click(function(e) {
                    setTimeout(function() {
                        layui.$(e.currentTarget).find('.layui-form-checkbox').click(function() {
                            var local_config = {};
                            for(var i = 0; i<=col.length-1; i++){
                                if(typeof col[i].field !== 'undefined'){
                                    local_config[col[i].field] = col[i].hide ;
                                }
                            }
                            var saveColsConfig = {
                                key: 'local_config',
                                value: local_config
                            };

                            // console.log("saveColsConfig",saveColsConfig)
                            layui.data(key, saveColsConfig);
                        })
                    }, 50);
                })
            }

            //表格 头部数据函数封装
            function getTableCols() {
                var col = [[
                    // {type: 'checkbox'},
                    // {field: 'ID',title:'ID',sort: true,align:"center",width:70},
                    {field: 'date', title: '日期', sort: true,align:"center",width:120},
                    {field: 'today_pull_order_amount', title: '今日拉单总金额',  sort: true,align:"center",width:180},
                    {field: 'today_pull_order_amount_and_success', title: '今日收取金额', sort: true,align:"center",width:180},
                    {field: 'today_pull_order_count', title: '今日拉单总数', sort: true,align:"center",width:180},
                    {field: 'today_pull_order_count_and_success', title: '今日成功支付笔数', sort: true,align:"center",width:180},
                    {field: 'today_success_per', title: '今日订单支付成功率', sort: true,align:"center",width:180, templet: function (d) {
                            return saveDigit(d.today_success_per,3)
                            // return d.today_success_per*100+"%"

                        }},
                    {field: 'all_pull_order_amount', title: '总拉单总金额',  sort: true,align:"center",width:180},
                    {field: 'all_pull_order_amount_and_success', title: '总收取金额', sort: true,align:"center",width:130},
                    {field: 'all_pull_order_count', title: '总拉单总数', sort: true,align:"center",width:130},
                    {field: 'all_pull_order_count_and_success', title: '总成功支付笔数', sort: true,align:"center",width:180},
                    {field: 'all_success_per', title: '总成功率', sort: true,align:"center",width:180, templet: function (d) {

                            return saveDigit(d.all_success_per,3)

                        }},
                    {
                        field: 'created', title: '创建时间',width:180,align:"center", templet: function (d) {
                            return moment(d.created * 1000).utc().utcOffset(currTimeZoneValue).format('YYYY-MM-DD HH:mm:ss');
                        }, sort: true
                    },


                ]]
                return col;
            }

            //layuitable reload或第一次加载的时候，根据存储的local_config 确定哪些列是否选中
            function tableSetCol(col, key){
                let colArr = col[0]
                var config_custom= layui.data(key);
                var local_config = config_custom['local_config'] || {};
                if(JSON.stringify(local_config) != '{}'){
                    for(var i =0; i<=colArr.length-1; i++){
                        if( typeof colArr[i].field !== "undefined" ){
                            colArr[i].hide = local_config[colArr[i].field];
                        }
                    }
                }
                return [colArr];
            }


            /* 表格搜索 */
            var currTempObj;
            var bet_tb_this;
            form.on('submit(userTbSearch)', function (data) {

                // console.log("currTempObj",data.field.username)
                // insTb.reload({where: data.field, page: {curr: 1}});
                currTempObj = {}

                var todayStartTime = new Date(new Date().toLocaleDateString()).getTime()/1000 + 1
                var todayEndTime = new Date(new Date().toLocaleDateString()).getTime()/1000 + 24 * 60 * 60  - 1

                if(data.field.startDate == '' && data.field.endDate == '' ){

                    // currTempObj.start = todayStartTime
                    // currTempObj.end = todayEndTime

                }else if(data.field.startDate != '' && data.field.endDate != '' ){

                    var date_str_start = new Date(data.field.startDate)
                    currTempObj.start = Date.parse(date_str_start) / 1000

                    var date_str_end = new Date(data.field.endDate)
                    currTempObj.end = Date.parse(date_str_end) / 1000

                }else{

                    if(data.field.startDate == "" && data.field.endDate != ""){

                        currTempObj.start = 0
                        var date_str_end = new Date(data.field.endDate)
                        currTempObj.end = Date.parse(date_str_end) / 1000

                    }else if(data.field.startDate != "" && data.field.endDate == ""){

                        var date_str_start = new Date(data.field.startDate)
                        currTempObj.start = Date.parse(date_str_start) / 1000
                        currTempObj.end = todayEndTime
                    }


                }


                //2.6.0之前清除保留之前的数据的最有用的方式
                if (bet_tb_this != null) {
                    // console.log("book_tb_this--不为null",bet_tb_this)
                    bet_tb_this.where = {};  //置空where
                }
                insTb.reload({
                    where: currTempObj,
                    page: {curr: 1},
                    done:function(){
                        bet_tb_this = this;
                        // console.log("book_tb_this----重载后的值",bet_tb_this)
                    }
                },false);


                return false;
            });


            /* 表格工具条点击事件 */
            table.on('tool(userTable)', function (obj) {
                var currDatas  = obj.data;
                if (obj.event === 'xxxx') { // 修改
                    // showEditModel(obj.data);

                    layer.confirm('xxxx？', {
                        skin: 'layui-layer-admin',
                        shade: .1
                    }, function (i) {
                        layer.close(i);
                        var loadIndex = layer.load(2);

                        var param = {};
                        param['id'] = currDatas.ID;

                        $.ajax({
                            url: global_requestAddress,
                            data: param,
                            headers:{
                                token:mybck
                            },
                            type: "POST",
                            dataType: "json",
                            success: function (addResult) {
                                layer.close(loadIndex);
                                if (addResult.code === 200) {
                                    notice.msg(addResult.msg, {icon: 1});
                                    insTb.reload({page: {curr: 1}});
                                } else {
                                    notice.msg(addResult.msg, {icon: 2});
                                }

                            },


                        });

                    });


                }else if(obj.event === 'deleteBtn'){ //删除

                    // jsondata = JSON.stringify(currDatas)
                    // var index = layui.layer.open({
                    //     area: ['1200px', '500px'],
                    //     fixed: false, //不固定
                    //     maxmin: false,
                    //     title : "xxx",
                    //     skin: 'layui-layer-rim',//加上边框
                    //     type : 2,
                    //     content : "bank_lists.html",
                    //     success : function(layero, index){
                    //         var body = layui.layer.getChildFrame('body', index);
                    //         if(currDatas) {
                    //
                    //         }
                    //     },
                    //     end : function() {//弹窗关闭后的回调函数
                    //         //利用laypage实现局部刷新,以下两种方式都可以
                    //         // $(".layui-laypage-btn").click()
                    //         //直接刷新当前修改的行
                    //         $(".layui-laypage-btn")[0].click()
                    //
                    //     }
                    // })
                    // window.sessionStorage.setItem("index",index);
                    // //改变窗口大小时，重置弹窗的宽高，防止超出可视区域（如F12调出debug的操作）
                    // $(window).on("resize",function(){
                    //     layui.layer.full(window.sessionStorage.getItem("index"));
                    // })

                }
            });


            function saveDigit(val, digits = 2)  {
                console.log("val",val)
                const perVal = Number(val || 0) * 100;
                const strPer = perVal.toFixed(digits);
                console.log("strPer",strPer)
                return `${Number(strPer)}%`;
            };

            // notice.success({
            //     title: '消息通知',
            //     message: '你有新的消息，请注意查收!'
            // });


            // /** 渲染日统计图表 */
            // var myCharts1 = echarts.init(document.getElementById('consoleChartsDay'));
            // var options1 = {
            //     title: {
            //         text: '登录人数/注册人数', x: 'center', y: '32%',
            //         textStyle: {fontSize: 18, color: '#262626', fontWeight: 'normal'},
            //         subtextStyle: {fontSize: 36, color: '#10B4E8'}, itemGap: 20
            //     },
            //     color: ['#E0E0E0', '#10B4E8'],
            //     tooltip: {trigger: 'item'},
            //     legend: {
            //         orient: 'vertical', right: '0px', top: '0px',
            //         data: ['注册人数', '登录人数'], textStyle: {color: '#595959'}
            //     },
            //     series: [{name: '人数', type: 'pie', radius: ['75%', '80%'], label: {normal: {show: false}}}]
            // };
            // myCharts1.setOption(options1);


            $.ajax({
                url: global_requestAddressJs_fistPage,
                type: "POST",
                headers: {
                    token: mybck
                },
                data: reqParam,
                dataType: "json",
                success: function (res) {
                    if (res.code === 200) {

                        // "today_pull_order_count": 0,
                        // "today_pull_order_count_and_success": 0,
                        // "today_pull_order_amount": 0,
                        // "today_pull_order_amount_and_success": 0,
                        // "today_success_per": 0,
                        // "all_pull_order_count": 2,
                        // "all_pull_order_count_and_success": 0,
                        // "all_pull_order_amount": 10000,
                        // "all_pull_order_amount_and_success": 0,
                        // "all_success_per": 0


                        $("#today_pull_order_count").text(res.result.today_pull_order_count)
                        $("#today_pull_order_count_and_success").text(res.result.today_pull_order_count_and_success)
                        $("#today_pull_order_amount").text(res.result.today_pull_order_amount)
                        $("#today_pull_order_amount_and_success").text(res.result.today_pull_order_amount_and_success)
                        // $("#today_success_per").text((res.result.today_success_per*100)+"%")
                        $("#today_success_per").text(saveDigit(res.result.today_success_per,3))

                        $("#all_pull_order_count").text(res.result.all_pull_order_count)
                        $("#all_pull_order_count_and_success").text(res.result.all_pull_order_count_and_success)
                        $("#all_pull_order_amount").text(res.result.all_pull_order_amount)
                        $("#all_pull_order_amount_and_success").text(res.result.all_pull_order_amount_and_success)
                        // $("#all_success_per").text((res.result.all_success_per*100)+"%")
                        $("#all_success_per").text(saveDigit(res.result.all_success_per,3))

                        // all_login_num = res.result.All.login_num
                        // all_reg_num = res.result.All.register_num
                        //
                        // all_zb_str = all_login_num + "/" + all_reg_num

                        //
                        // // 赋值
                        // myCharts1.setOption({
                        //     title: {subtext: all_zb_str},
                        //     series: [{data: [{name: '注册人数', value: all_reg_num}, {name: '登录人数', value: all_login_num}]}]
                        // });

                    }
                }
            })


            /** 渲染词云图表 */
            var myCharts5 = echarts.init(document.getElementById('consoleChartsWord'));
            var options5 = {
                tooltip: {show: true},
                series: [{
                    name: "任务数",
                    type: 'wordCloud',
                    shape: 'diamond',
                    width: '100%',
                    height: '100%',
                    sizeRange: [12, 23],
                    gridSize: 6,
                    textStyle: {
                        normal: {
                            color: function () {
                                return 'rgb(' + [
                                    Math.round(Math.random() * 160),
                                    Math.round(Math.random() * 160),
                                    Math.round(Math.random() * 160)
                                ].join(',') + ')';
                            }
                        },
                        emphasis: {shadowBlur: 10, shadowColor: '#666'}
                    }, data: []
                }]
            };
            myCharts5.setOption(options5);


            // //获取任务分组名
            // let reqParamGroup = {}
            // reqParamGroup.overlay_id = 0
            // reqParamGroup.page = 1
            // reqParamGroup.limit = 3000
            //
            // $.ajax({
            //     url: global_requestAddress + global_requestAddress_js_group + "?action=select",
            //     type: "POST",
            //     headers: {
            //         token: mybck
            //     },
            //     data: reqParamGroup,
            //     dataType: "json",
            //     success: function (res) {
            //         if (res.code === 2000) {
            //
            //             let resR = res.result
            //             resR.forEach(item => {
            //                 groupArr.push({
            //                     name: item.TaskName,
            //                     value: item.TaskCount
            //                 })
            //             })
            //
            //             // 赋值
            //             myCharts5.setOption({
            //                 series: [{
            //                     data: groupArr
            //                 }]
            //             });
            //
            //
            //         }
            //     }
            // })



            // 基于准备好的dom，初始化echarts实例
            var myCharts2 = echarts.init(document.getElementById('speedChartMain'),'macarons');
            var option2 = {
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data:[]
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                // toolbox: {
                //     feature: {
                //         saveAsImage: {}
                //     }
                // },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: []
                },
                yAxis: {
                    type: 'value'
                },
                series: []
            };

            // 使用刚指定的配置项和数据显示图表。
            myCharts2.setOption(option2);


            // //获取任务分组名
            // let reqParamDay = {}
            // reqParamDay.page = 1
            // reqParamDay.limit = 3000
            //
            // $.ajax({
            //     url: global_requestAddress + global_requestAddress_js_everyday + "?action=select",
            //     type: "POST",
            //     headers: {
            //         token: mybck
            //     },
            //     data: reqParamDay,
            //     dataType: "json",
            //     success: function (res) {
            //         if (res.code === 2000) {
            //
            //             let resR = res.result
            //
            //             let tempnickDateArr = []
            //             let tempnickRegNumArr = []
            //             let tempnickLoginNumArr = []
            //             let tempnickWithdrawNumArr = []
            //             let tempnickWithdrawMoneyArr = []
            //
            //             let tempWithdrawBankMoneyArr = []
            //             let tempWithdrawBankNumArr = []
            //             let tempWithdrawUSDTMoneyArr = []
            //             let tempWithdrawUSDTNumArr = []
            //             let tempFirstRechargeNumArr = []
            //
            //
            //             resR.forEach(item=>{
            //                 tempnickDateArr.push(item.Date)
            //                 tempnickRegNumArr.push(item.RegisterNum)
            //                 tempnickLoginNumArr.push(item.LoginNum)
            //                 tempnickWithdrawNumArr.push(item.WithdrawNum)
            //                 tempnickWithdrawMoneyArr.push(item.WithdrawMoney)
            //
            //                 tempWithdrawBankMoneyArr.push(item.RechargeBankMoney)
            //                 tempWithdrawBankNumArr.push(item.RechargeBankNum)
            //                 tempWithdrawUSDTMoneyArr.push(item.RechargeUsdtMoney)
            //                 tempWithdrawUSDTNumArr.push(item.RechargeUsdtNum)
            //                 tempFirstRechargeNumArr.push(item.FirstRechargeNum)
            //
            //             })
            //
            //             const colorList = ["#9E87FF", '#73DDFF', '#fe9a8b', '#F56948', '#ffb199','#330867','#ee609c','#989898','#3cba92']
            //             // 之前option中legend和 XAxis的data,series 为空，所以现在将数据填充进去
            //             var chartOption = {    //加载数据图表
            //                 tooltip: {
            //                     trigger: 'axis'
            //                 },
            //                 // dataZoom 组件 用于区域缩放.自动滚动
            //                 // dataZoom: [//滑动条
            //                 //     {
            //                 //         show: false,//是否显示滑动条
            //                 //         type: 'inside', // 这个 dataZoom 组件是 slider 型 dataZoom 组件
            //                 //         xAxisIndex: [0], // 设置 dataZoom-inside 组件控制的 x轴
            //                 //         startValue: 0, // 从头开始。
            //                 //         endValue: 4  // 一次性展示5个。
            //                 //     }
            //                 // ],
            //                 legend: {
            //                     icon:'circle',//这里是导航条的图标显示
            //                     data:['注册人数','登录人数','提现金额','提现人数','银行充值金额','银行充值人数','USDT充值金额','USDT充值人数','首充人数'],
            //                     y:'32px'
            //                 },
            //                 title: {
            //                     // text: '显示的是昨日各设备粉丝数据!'+"日期: "+yesDayDate,
            //                     text: '显示的是每天的各种数据',
            //                     x:'center'
            //                 },
            //                 xAxis: {
            //                     data: tempnickDateArr
            //                 },
            //                 series: [
            //                     {
            //                         // 根据名字对应到相应的系列
            //                         name: '注册人数',
            //                         type: 'line',
            //                         data: tempnickRegNumArr,
            //                         markPoint : {
            //                             label:{color:"#fff"},
            //                             data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
            //                         },
            //                         markLine : {
            //                             data : [{type : 'average', name: '平均值'}]
            //                         },
            //                         symbolSize: 1,
            //                         symbol: 'circle',
            //                         smooth: true,
            //                         yAxisIndex: 0,
            //                         showSymbol: false,
            //                         lineStyle: {
            //                             width: 8,
            //                             color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{
            //                                 offset: 0,
            //                                 color: '#9effff'
            //                             },
            //                                 {
            //                                     offset: 1,
            //                                     color: '#9E87FF'
            //                                 }
            //                             ]),
            //                             shadowColor: 'rgba(158,135,255, 0.3)',
            //                             shadowBlur: 10,
            //                             shadowOffsetY: 20
            //                         },
            //                         itemStyle: {
            //                             normal: {
            //                                 borderWidth: 15,
            //                                 color: colorList[0],
            //                                 borderColor: colorList[0]
            //                             }
            //                         }
            //                     },
            //                     {
            //                         name: '登录人数',
            //                         type: 'line',
            //                         data: tempnickLoginNumArr,
            //                         markPoint : {
            //                             label:{color:"#fff"},
            //                             data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
            //                         },
            //                         markLine : {
            //                             data : [{type : 'average', name: '平均值'}]
            //                         },
            //                         symbolSize: 1,
            //                         symbol: 'circle',
            //                         smooth: true,
            //                         yAxisIndex: 0,
            //                         showSymbol: false,
            //                         lineStyle: {
            //                             width: 8,
            //                             color: new echarts.graphic.LinearGradient(1, 1, 0, 0, [{
            //                                 offset: 0,
            //                                 color: '#73DD39'
            //                             },
            //                                 {
            //                                     offset: 1,
            //                                     color: '#73DDFF'
            //                                 }
            //                             ]),
            //                             shadowColor: 'rgba(115,221,255, 0.3)',
            //                             shadowBlur: 10,
            //                             shadowOffsetY: 20
            //                         },
            //                         itemStyle: {
            //                             normal: {
            //                                 borderWidth: 15,
            //                                 color: colorList[1],
            //                                 borderColor: colorList[1]
            //                             }
            //                         }
            //                     },
            //                     {
            //                         name: '提现人数',
            //                         type: 'line',
            //                         data: tempnickWithdrawNumArr,
            //                         markPoint : {
            //                             label:{color:"#fff"},
            //                             data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
            //                         },
            //                         markLine : {
            //                             data : [{type : 'average', name: '平均值'}]
            //                         },
            //                         symbolSize: 1,
            //                         symbol: 'circle',
            //                         smooth: true,
            //                         yAxisIndex: 0,
            //                         showSymbol: false,
            //                         lineStyle: {
            //                             width: 8,
            //                             color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
            //                                 offset: 0,
            //                                 color: '#fe9a'
            //                             },
            //                                 {
            //                                     offset: 1,
            //                                     color: '#fe9a8b'
            //                                 }
            //                             ]),
            //                             shadowColor: 'rgba(254,154,139, 0.3)',
            //                             shadowBlur: 10,
            //                             shadowOffsetY: 20
            //                         },
            //                         itemStyle: {
            //                             normal: {
            //                                 borderWidth: 15,
            //                                 color: colorList[2],
            //                                 borderColor: colorList[2]
            //                             }
            //                         }
            //                     },
            //                     {
            //                         // 根据名字对应到相应的系列
            //                         name: '提现金额',
            //                         type: 'line',
            //                         data: tempnickWithdrawMoneyArr,
            //                         markPoint : {
            //                             label:{color:"#fff"},
            //                             data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
            //                         },
            //                         markLine : {
            //                             data : [{type : 'average', name: '平均值'}]
            //                         },
            //                         symbolSize: 1,
            //                         symbol: 'circle',
            //                         smooth: true,
            //                         yAxisIndex: 0,
            //                         showSymbol: false,
            //                         lineStyle: {
            //                             width: 8,
            //                             color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
            //                                 offset: 0,
            //                                 color: '#ef0a75'
            //                             },
            //                                 {
            //                                     offset: 1,
            //                                     color: '#F56948'
            //                                 }
            //                             ]),
            //                             shadowColor: 'rgba(253,121,128, 0.3)',
            //                             shadowBlur: 10,
            //                             shadowOffsetY: 20
            //                         },
            //                         itemStyle: {
            //                             normal: {
            //                                 borderWidth: 15,
            //                                 color: colorList[3],
            //                                 borderColor: colorList[3]
            //                             }
            //                         }
            //                     },
            //
            //                     {
            //                         // 根据名字对应到相应的系列
            //                         name: '银行充值金额',
            //                         type: 'line',
            //                         data: tempWithdrawBankMoneyArr,
            //                         markPoint : {
            //                             label:{color:"#fff"},
            //                             data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
            //                         },
            //                         markLine : {
            //                             data : [{type : 'average', name: '平均值'}]
            //                         },
            //                         symbolSize: 1,
            //                         symbol: 'circle',
            //                         smooth: true,
            //                         yAxisIndex: 0,
            //                         showSymbol: false,
            //                         lineStyle: {
            //                             width: 8,
            //                             color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
            //                                 offset: 0,
            //                                 color: '#ef0a75'
            //                             },
            //                                 {
            //                                     offset: 1,
            //                                     color: '#ffb199'
            //                                 }
            //                             ]),
            //                             shadowColor: 'rgba(253,121,128, 0.3)',
            //                             shadowBlur: 10,
            //                             shadowOffsetY: 20
            //                         },
            //                         itemStyle: {
            //                             normal: {
            //                                 borderWidth: 15,
            //                                 color: colorList[4],
            //                                 borderColor: colorList[4]
            //                             }
            //                         }
            //                     },
            //                     {
            //                         // 根据名字对应到相应的系列
            //                         name: '银行充值人数',
            //                         type: 'line',
            //                         data: tempWithdrawBankNumArr,
            //                         markPoint : {
            //                             label:{color:"#fff"},
            //                             data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
            //                         },
            //                         markLine : {
            //                             data : [{type : 'average', name: '平均值'}]
            //                         },
            //                         symbolSize: 1,
            //                         symbol: 'circle',
            //                         smooth: true,
            //                         yAxisIndex: 0,
            //                         showSymbol: false,
            //                         lineStyle: {
            //                             width: 8,
            //                             color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
            //                                 offset: 0,
            //                                 color: '#ef0a75'
            //                             },
            //                                 {
            //                                     offset: 1,
            //                                     color: '#330867'
            //                                 }
            //                             ]),
            //                             shadowColor: 'rgba(253,121,128, 0.3)',
            //                             shadowBlur: 10,
            //                             shadowOffsetY: 20
            //                         },
            //                         itemStyle: {
            //                             normal: {
            //                                 borderWidth: 15,
            //                                 color: colorList[5],
            //                                 borderColor: colorList[5]
            //                             }
            //                         }
            //                     },
            //                     {
            //                         // 根据名字对应到相应的系列
            //                         name: 'USDT充值金额',
            //                         type: 'line',
            //                         data: tempWithdrawUSDTMoneyArr,
            //                         markPoint : {
            //                             label:{color:"#fff"},
            //                             data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
            //                         },
            //                         markLine : {
            //                             data : [{type : 'average', name: '平均值'}]
            //                         },
            //                         symbolSize: 1,
            //                         symbol: 'circle',
            //                         smooth: true,
            //                         yAxisIndex: 0,
            //                         showSymbol: false,
            //                         lineStyle: {
            //                             width: 8,
            //                             color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
            //                                 offset: 0,
            //                                 color: '#ef0a75'
            //                             },
            //                                 {
            //                                     offset: 1,
            //                                     color: '#ee609c'
            //                                 }
            //                             ]),
            //                             shadowColor: 'rgba(253,121,128, 0.3)',
            //                             shadowBlur: 10,
            //                             shadowOffsetY: 20
            //                         },
            //                         itemStyle: {
            //                             normal: {
            //                                 borderWidth: 15,
            //                                 color: colorList[6],
            //                                 borderColor: colorList[6]
            //                             }
            //                         }
            //                     },
            //                     {
            //                         // 根据名字对应到相应的系列
            //                         name: 'USDT充值人数',
            //                         type: 'line',
            //                         data: tempWithdrawUSDTNumArr,
            //                         markPoint : {
            //                             label:{color:"#fff"},
            //                             data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
            //                         },
            //                         markLine : {
            //                             data : [{type : 'average', name: '平均值'}]
            //                         },
            //                         symbolSize: 1,
            //                         symbol: 'circle',
            //                         smooth: true,
            //                         yAxisIndex: 0,
            //                         showSymbol: false,
            //                         lineStyle: {
            //                             width: 8,
            //                             color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
            //                                 offset: 0,
            //                                 color: '#989898'
            //                             },
            //                                 {
            //                                     offset: 1,
            //                                     color: '#fe8bc1'
            //                                 }
            //                             ]),
            //                             shadowColor: 'rgba(253,121,128, 0.3)',
            //                             shadowBlur: 10,
            //                             shadowOffsetY: 20
            //                         },
            //                         itemStyle: {
            //                             normal: {
            //                                 borderWidth: 15,
            //                                 color: colorList[7],
            //                                 borderColor: colorList[7]
            //                             }
            //                         }
            //                     },
            //                     {
            //                         // 根据名字对应到相应的系列
            //                         name: '首充人数',
            //                         type: 'line',
            //                         data: tempFirstRechargeNumArr,
            //                         markPoint : {
            //                             label:{color:"#fff"},
            //                             data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
            //                         },
            //                         markLine : {
            //                             data : [{type : 'average', name: '平均值'}]
            //                         },
            //                         symbolSize: 1,
            //                         symbol: 'circle',
            //                         smooth: true,
            //                         yAxisIndex: 0,
            //                         showSymbol: false,
            //                         lineStyle: {
            //                             width: 8,
            //                             color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
            //                                 offset: 0,
            //                                 color: '#ef0a75'
            //                             },
            //                                 {
            //                                     offset: 1,
            //                                     color: '#3cba92'
            //                                 }
            //                             ]),
            //                             shadowColor: 'rgba(253,121,128, 0.3)',
            //                             shadowBlur: 10,
            //                             shadowOffsetY: 20
            //                         },
            //                         itemStyle: {
            //                             normal: {
            //                                 borderWidth: 15,
            //                                 color: colorList[8],
            //                                 borderColor: colorList[8]
            //                             }
            //                         }
            //                     }
            //
            //
            //
            //
            //
            //
            //                 ]
            //             }
            //
            //             // // 使用刚指定的配置项和数据显示图表。z暂时没有效果
            //             // timer = setInterval(function () {
            //             //     // 每次向后滚动一个，最后一个从头开始。
            //             //     if (chartOption.dataZoom[0].endValue == tempnickDateArr.length - 1) {
            //             //         chartOption.dataZoom[0].endValue = 4;
            //             //         chartOption.dataZoom[0].startValue = 0;
            //             //     }
            //             //     else {
            //             //         chartOption.dataZoom[0].endValue = chartOption.dataZoom[0].endValue + 1;
            //             //         chartOption.dataZoom[0].startValue = chartOption.dataZoom[0].startValue + 1;
            //             //     }
            //             //     // myCharts2.clear();
            //             //     // myCharts2.setOption(chartOption,true);
            //             // }, 2000);
            //             //
            //             // // myCharts2.clear();
            //             myCharts2.setOption(chartOption);
            //
            //             // 可调用clearLoop方法，清除定时器
            //             tootipTimer && tootipTimer.clearLoop();
            //             tootipTimer = null;
            //             // 调用轮播的方法(方式一)
            //             tootipTimer = tools.loopShowTooltip(myCharts2, chartOption, {
            //                 interval: 2000, // 轮播间隔时间
            //                 loopSeries: true // 是否开启轮播循环
            //             });
            //
            //
            //         }
            //     }
            // })
            //
            //

            /** 窗口大小改变事件 */
            window.onresize = function () {
                myCharts1.resize();
                myCharts2.resize();
                myCharts5.resize();

            };

        });

    }
</script>
</body>
</html>
